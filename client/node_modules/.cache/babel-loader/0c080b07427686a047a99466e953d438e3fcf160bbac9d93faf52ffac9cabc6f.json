{"ast":null,"code":"var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nimport React, { useState } from 'react';\nimport { LoadingOverlay, Switch } from '@mantine/core';\nimport styled from '@emotion/styled';\nimport { css, cx } from '@emotion/css';\nimport { useNovuTheme } from '../../../../hooks';\nimport { getChannel } from './channels';\nimport { switchStyles, Text } from './styles';\nimport { Check } from '../../../../shared/icons/Check';\nimport { colors } from '../../../../shared/config/colors';\nimport { useStyles } from '../../../../store/styles';\nconst iconClassName = (active, iconColor) => css`\n  color: ${active ? iconColor.active : iconColor.inactive};\n  width: 30px;\n`;\nconst channelLabelClassName = (active, fontColor) => css`\n  color: ${active ? fontColor.active : fontColor.inactive};\n`;\nconst successClassName = css`\n  color: ${colors.success};\n`;\nexport function ChannelPreference({\n  type,\n  active,\n  disabled,\n  handleUpdateChannelPreference\n}) {\n  var _a, _b;\n  const {\n    label,\n    Icon\n  } = getChannel(type);\n  const {\n    theme\n  } = useNovuTheme();\n  const [isLoading, setIsLoading] = useState(false);\n  const [showSaved, setShowSaved] = useState(false);\n  const baseTheme = theme === null || theme === void 0 ? void 0 : theme.userPreferences;\n  const iconColor = (_a = baseTheme === null || baseTheme === void 0 ? void 0 : baseTheme.accordionItem) === null || _a === void 0 ? void 0 : _a.icon;\n  const fontColor = (_b = baseTheme === null || baseTheme === void 0 ? void 0 : baseTheme.accordionItem) === null || _b === void 0 ? void 0 : _b.fontColor;\n  const [switchRootStyles, switchInputStyles, switchTrackStyles, switchThumbStyles, itemContentIconStyles, itemContentChannelLabelStyles, itemContentSuccessStyles] = useStyles(['switch.root', 'switch.input', 'switch.track', 'switch.thumb', 'preferences.item.content.icon', 'preferences.item.content.channelLabel', 'preferences.item.content.success']);\n  const channelSwitchStyles = switchStyles(baseTheme);\n  const channelSwitchClassNames = {\n    root: css(switchRootStyles),\n    input: css(switchInputStyles),\n    track: css(switchTrackStyles),\n    thumb: css(switchThumbStyles)\n  };\n  const updateChannel = checked => __awaiter(this, void 0, void 0, function* () {\n    setIsLoading(true);\n    yield handleUpdateChannelPreference(type, checked);\n    setIsLoading(false);\n    setShowSaved(true);\n    setTimeout(() => {\n      setShowSaved(false);\n    }, 1500);\n  });\n  return React.createElement(ChannelItemWrapper, {\n    \"data-test-id\": \"channel-preference-item\"\n  }, React.createElement(LeftContentWrapper, null, React.createElement(Icon, {\n    className: cx('nc-preferences-item-icon', iconClassName(active, iconColor), css(itemContentIconStyles))\n  }), React.createElement(Text, {\n    size: 'md',\n    className: cx('nc-preferences-channel-label', channelLabelClassName(active, fontColor), css(itemContentChannelLabelStyles))\n  }, label)), React.createElement(RightContentWrapper, null, showSaved && React.createElement(\"div\", {\n    style: {\n      display: 'inline-flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      gap: '5px'\n    }\n  }, React.createElement(Check, {\n    color: colors.success\n  }), React.createElement(Text, {\n    size: \"sm\",\n    className: cx('nc-preferences-item-success', successClassName, css(itemContentSuccessStyles))\n  }, \"Saved\")), React.createElement(SwitchWrapper, null, React.createElement(LoadingOverlay, {\n    visible: isLoading,\n    \"data-test-id\": \"channel-preference-item-loader\",\n    loaderProps: {\n      size: 15,\n      color: theme.loaderColor\n    },\n    overlayOpacity: 0.3,\n    overlayColor: \"transparent\",\n    sx: {\n      justifyContent: active ? 'right' : 'left',\n      marginLeft: '3px',\n      marginRight: '1.5px',\n      marginTop: '1px'\n    }\n  }), React.createElement(Switch, {\n    \"data-test-id\": \"channel-preference-item-toggle\",\n    styles: channelSwitchStyles,\n    classNames: channelSwitchClassNames,\n    disabled: disabled && !isLoading,\n    checked: active,\n    onChange: e => updateChannel(e.target.checked)\n  }))));\n}\nconst ChannelItemWrapper = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n`;\nconst LeftContentWrapper = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: flex-start;\n  gap: 15px;\n`;\nconst RightContentWrapper = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: flex-end;\n  gap: 13px;\n`;\nconst SwitchWrapper = styled.div`\n  width: inherit;\n  height: inherit;\n  position: relative;\n\n  svg circle {\n    stroke-opacity: 0;\n  }\n`;","map":{"version":3,"names":["React","useState","LoadingOverlay","Switch","styled","css","cx","useNovuTheme","getChannel","switchStyles","Text","Check","colors","useStyles","iconClassName","active","iconColor","inactive","channelLabelClassName","fontColor","successClassName","success","ChannelPreference","type","disabled","handleUpdateChannelPreference","label","Icon","theme","isLoading","setIsLoading","showSaved","setShowSaved","baseTheme","userPreferences","_a","accordionItem","icon","_b","switchRootStyles","switchInputStyles","switchTrackStyles","switchThumbStyles","itemContentIconStyles","itemContentChannelLabelStyles","itemContentSuccessStyles","channelSwitchStyles","channelSwitchClassNames","root","input","track","thumb","updateChannel","checked","__awaiter","setTimeout","createElement","ChannelItemWrapper","LeftContentWrapper","className","size","RightContentWrapper","style","display","alignItems","justifyContent","gap","color","SwitchWrapper","visible","loaderProps","loaderColor","overlayOpacity","overlayColor","sx","marginLeft","marginRight","marginTop","styles","classNames","onChange","e","target","div"],"sources":["../../../../../../src/components/notification-center/components/user-preference/ChannelPreference.tsx"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}