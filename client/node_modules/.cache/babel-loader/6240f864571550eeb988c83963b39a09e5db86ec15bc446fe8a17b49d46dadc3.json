{"ast":null,"code":"var _jsxFileName = \"/Users/isabelagadagba/Downloads/blog-main 2/NotionReact/client/src/components/CreatePost.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { WithContext as ReactTags } from \"react-tag-input\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CreatePost = ({\n  socket\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const [users, setUsers] = useState([]);\n  useEffect(() => {\n    function getUsers() {\n      const storedUsers = JSON.parse(localStorage.getItem(\"users\")).split(\",\");\n      setUsers(storedUsers);\n    }\n    getUsers();\n  }, []);\n  const suggestions = users.map(name => {\n    return {\n      id: name,\n      text: name\n    };\n  });\n  const KeyCodes = {\n    comma: 188,\n    enter: 13\n  };\n  const delimiters = [KeyCodes.comma, KeyCodes.enter];\n  const [postTitle, setPostTitle] = useState(\"\");\n  const [postContent, setPostContent] = useState(\"\");\n  const currentDate = () => {\n    const d = new Date();\n    return `${d.getDate()}-${d.getMonth() + 1}-${d.getFullYear()}`;\n  };\n\n  //...react tags\n\n  const [tags, setTags] = useState([]);\n  const handleDelete = i => {\n    setTags(tags.filter((tag, index) => index !== i));\n  };\n  const handleAddition = tag => {\n    setTags([...tags, tag]);\n  };\n  const handleTagClick = index => {\n    console.log(\"The tag at index \" + index + \" was clicked\");\n  };\n  const addPost = e => {\n    e.preventDefault();\n    socket.emit(\"createPost\", {\n      postTitle,\n      postContent,\n      username: localStorage.getItem(\"username\"),\n      timestamp: currentDate(),\n      tags\n    });\n    navigate(\"/dashboard\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"createPost\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Create a new Post\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"createForm\",\n      onSubmit: addPost,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"title\",\n        children: \" Title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        required: true,\n        value: postTitle,\n        onChange: e => setPostTitle(e.target.value),\n        className: \"createForm__title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"title\",\n        children: \" Content\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        required: true,\n        rows: 15,\n        value: postContent,\n        onChange: e => setPostContent(e.target.value),\n        className: \"createForm__content\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(ReactTags, {\n        tags: tags,\n        suggestions: suggestions,\n        delimiters: delimiters,\n        handleDelete: handleDelete,\n        handleAddition: handleAddition,\n        handleTagClick: handleTagClick,\n        inputFieldPosition: \"bottom\",\n        autocomplete: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"createForm__button\",\n        children: \"ADD POST\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 3\n  }, this);\n};\n_s(CreatePost, \"123Q3UI6eGXGoJAwz68mT3+plfg=\", false, function () {\n  return [useNavigate];\n});\n_c = CreatePost;\nexport default CreatePost;\nvar _c;\n$RefreshReg$(_c, \"CreatePost\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","WithContext","ReactTags","jsxDEV","_jsxDEV","CreatePost","socket","_s","navigate","users","setUsers","getUsers","storedUsers","JSON","parse","localStorage","getItem","split","suggestions","map","name","id","text","KeyCodes","comma","enter","delimiters","postTitle","setPostTitle","postContent","setPostContent","currentDate","d","Date","getDate","getMonth","getFullYear","tags","setTags","handleDelete","i","filter","tag","index","handleAddition","handleTagClick","console","log","addPost","e","preventDefault","emit","username","timestamp","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","htmlFor","type","required","value","onChange","target","rows","inputFieldPosition","autocomplete","_c","$RefreshReg$"],"sources":["/Users/isabelagadagba/Downloads/blog-main 2/NotionReact/client/src/components/CreatePost.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { WithContext as ReactTags } from \"react-tag-input\";\n\nconst CreatePost = ({ socket }) => {\n\tconst navigate = useNavigate();\n\tconst [users, setUsers] = useState([]);\n\n\tuseEffect(() => {\n\t\tfunction getUsers() {\n\t\t\tconst storedUsers = JSON.parse(localStorage.getItem(\"users\")).split(\",\");\n\t\t\tsetUsers(storedUsers);\n\t\t}\n\t\tgetUsers();\n\t}, []);\n\n\tconst suggestions = users.map((name) => {\n\t\treturn {\n\t\t\tid: name,\n\t\t\ttext: name,\n\t\t};\n\t});\n\n\tconst KeyCodes = {\n\t\tcomma: 188,\n\t\tenter: 13,\n\t};\n\n\tconst delimiters = [KeyCodes.comma, KeyCodes.enter];\n\n\tconst [postTitle, setPostTitle] = useState(\"\");\n\tconst [postContent, setPostContent] = useState(\"\");\n\n\tconst currentDate = () => {\n\t\tconst d = new Date();\n\t\treturn `${d.getDate()}-${d.getMonth() + 1}-${d.getFullYear()}`;\n\t};\n\n\t//...react tags\n\n\tconst [tags, setTags] = useState([]);\n\n\tconst handleDelete = (i) => {\n\t\tsetTags(tags.filter((tag, index) => index !== i));\n\t};\n\n\tconst handleAddition = (tag) => {\n\t\tsetTags([...tags, tag]);\n\t};\n\n\tconst handleTagClick = (index) => {\n\t\tconsole.log(\"The tag at index \" + index + \" was clicked\");\n\t};\n\n\tconst addPost = (e) => {\n\t\te.preventDefault();\n\t\tsocket.emit(\"createPost\", {\n\t\t\tpostTitle,\n\t\t\tpostContent,\n\t\t\tusername: localStorage.getItem(\"username\"),\n\t\t\ttimestamp: currentDate(),\n\t\t\ttags,\n\t\t});\n\t\tnavigate(\"/dashboard\");\n\t};\n\n\treturn (\n\t\t<div className='createPost'>\n\t\t\t<h2>Create a new Post</h2>\n\t\t\t<form className='createForm' onSubmit={addPost}>\n\t\t\t\t<label htmlFor='title'> Title</label>\n\t\t\t\t<input\n\t\t\t\t\ttype='text'\n\t\t\t\t\trequired\n\t\t\t\t\tvalue={postTitle}\n\t\t\t\t\tonChange={(e) => setPostTitle(e.target.value)}\n\t\t\t\t\tclassName='createForm__title'\n\t\t\t\t/>\n\n\t\t\t\t<label htmlFor='title'> Content</label>\n\t\t\t\t<textarea\n\t\t\t\t\trequired\n\t\t\t\t\trows={15}\n\t\t\t\t\tvalue={postContent}\n\t\t\t\t\tonChange={(e) => setPostContent(e.target.value)}\n\t\t\t\t\tclassName='createForm__content'\n\t\t\t\t/>\n\n\t\t\t\t<ReactTags\n\t\t\t\t\ttags={tags}\n\t\t\t\t\tsuggestions={suggestions}\n\t\t\t\t\tdelimiters={delimiters}\n\t\t\t\t\thandleDelete={handleDelete}\n\t\t\t\t\thandleAddition={handleAddition}\n\t\t\t\t\thandleTagClick={handleTagClick}\n\t\t\t\t\tinputFieldPosition='bottom'\n\t\t\t\t\tautocomplete\n\t\t\t\t/>\n\t\t\t\t<button className='createForm__button'>ADD POST</button>\n\t\t\t</form>\n\t\t</div>\n\t);\n};\n\nexport default CreatePost;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}