{"ast":null,"code":"import { useQuery } from '@tanstack/react-query';\nimport { SESSION_QUERY_KEY } from './queryKeys';\nimport { useNovuContext } from './useNovuContext';\nexport const useSession = ({\n  onSuccess\n}) => {\n  const {\n    apiService,\n    applicationIdentifier,\n    subscriberId,\n    subscriberHash\n  } = useNovuContext();\n  const result = useQuery([...SESSION_QUERY_KEY, applicationIdentifier, subscriberId, subscriberHash], () => apiService.initializeSession(applicationIdentifier, subscriberId, subscriberHash), {\n    enabled: !!applicationIdentifier && !!subscriberId,\n    cacheTime: Infinity,\n    staleTime: Infinity,\n    onSuccess,\n    onError: error => {\n      // eslint-disable-next-line no-console\n      console.error('Failed to initialize the session', error.message);\n    }\n  });\n  return result;\n};","map":{"version":3,"names":["useQuery","SESSION_QUERY_KEY","useNovuContext","useSession","onSuccess","apiService","applicationIdentifier","subscriberId","subscriberHash","result","initializeSession","enabled","cacheTime","Infinity","staleTime","onError","error","console","message"],"sources":["../../../src/hooks/useSession.ts"],"sourcesContent":[null],"mappings":"AAAA,SAASA,QAAQ,QAAQ,uBAAuB;AAEhD,SAASC,iBAAiB,QAAQ,aAAa;AAE/C,SAASC,cAAc,QAAQ,kBAAkB;AAEjD,OAAO,MAAMC,UAAU,GAAGA,CAAC;EAAEC;AAAS,CAA+C,KAAI;EACvF,MAAM;IAAEC,UAAU;IAAEC,qBAAqB;IAAEC,YAAY;IAAEC;EAAc,CAAE,GAAGN,cAAc,EAAE;EAE5F,MAAMO,MAAM,GAAGT,QAAQ,CACrB,CAAC,GAAGC,iBAAiB,EAAEK,qBAAqB,EAAEC,YAAY,EAAEC,cAAc,CAAC,EAC3E,MAAMH,UAAU,CAACK,iBAAiB,CAACJ,qBAAqB,EAAEC,YAAY,EAAEC,cAAc,CAAC,EACvF;IACEG,OAAO,EAAE,CAAC,CAACL,qBAAqB,IAAI,CAAC,CAACC,YAAY;IAClDK,SAAS,EAAEC,QAAQ;IACnBC,SAAS,EAAED,QAAQ;IACnBT,SAAS;IACTW,OAAO,EAAGC,KAAY,IAAI;MACxB;MACAC,OAAO,CAACD,KAAK,CAAC,kCAAkC,EAAEA,KAAK,CAACE,OAAO,CAAC;IAClE;GACD,CACF;EAED,OAAOT,MAAM;AACf,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}