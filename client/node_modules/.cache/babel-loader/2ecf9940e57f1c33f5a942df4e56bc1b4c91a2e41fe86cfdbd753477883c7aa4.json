{"ast":null,"code":"import { useRef, useCallback } from 'react';\nimport { io } from 'socket.io-client';\nexport const useInitializeSocket = ({\n  socketUrl\n}) => {\n  const socketRef = useRef(null);\n  const disconnectSocket = useCallback(() => {\n    if (socketRef.current) {\n      if (socketRef.current.disconnect) {\n        socketRef.current.disconnect();\n      }\n      socketRef.current = null;\n    }\n  }, [socketRef]);\n  const initializeSocket = useCallback(({\n    token\n  }) => {\n    if (socketRef.current) {\n      disconnectSocket();\n    }\n    if (token) {\n      socketRef.current = io(socketUrl, {\n        reconnectionDelayMax: 10000,\n        transports: ['websocket'],\n        auth: {\n          token: `${token}`\n        }\n      });\n      socketRef.current.on('connect_error', error => {\n        // eslint-disable-next-line no-console\n        console.error(error.message);\n      });\n    }\n  }, [socketRef, disconnectSocket]);\n  return {\n    socket: socketRef.current,\n    initializeSocket,\n    disconnectSocket\n  };\n};","map":{"version":3,"names":["useRef","useCallback","io","useInitializeSocket","socketUrl","socketRef","disconnectSocket","current","disconnect","initializeSocket","token","reconnectionDelayMax","transports","auth","on","error","console","message","socket"],"sources":["../../../src/hooks/useInitializeSocket.ts"],"sourcesContent":[null],"mappings":"AAAA,SAASA,MAAM,EAAEC,WAAW,QAAQ,OAAO;AAC3C,SAASC,EAAE,QAAQ,kBAAkB;AAUrC,OAAO,MAAMC,mBAAmB,GAAyBA,CAAC;EAAEC;AAAS,CAAE,KAAI;EACzE,MAAMC,SAAS,GAAGL,MAAM,CAAgB,IAAI,CAAC;EAE7C,MAAMM,gBAAgB,GAAGL,WAAW,CAAC,MAAK;IACxC,IAAII,SAAS,CAACE,OAAO,EAAE;MACrB,IAAIF,SAAS,CAACE,OAAO,CAACC,UAAU,EAAE;QAChCH,SAAS,CAACE,OAAO,CAACC,UAAU,EAAE;;MAGhCH,SAAS,CAACE,OAAO,GAAG,IAAI;;EAE5B,CAAC,EAAE,CAACF,SAAS,CAAC,CAAC;EAEf,MAAMI,gBAAgB,GAAGR,WAAW,CAClC,CAAC;IAAES;EAAK,CAAY,KAAI;IACtB,IAAIL,SAAS,CAACE,OAAO,EAAE;MACrBD,gBAAgB,EAAE;;IAGpB,IAAII,KAAK,EAAE;MACTL,SAAS,CAACE,OAAO,GAAGL,EAAE,CAACE,SAAS,EAAE;QAChCO,oBAAoB,EAAE,KAAK;QAC3BC,UAAU,EAAE,CAAC,WAAW,CAAC;QACzBC,IAAI,EAAE;UACJH,KAAK,EAAE,GAAGA,KAAK;;OAElB,CAAC;MAEFL,SAAS,CAACE,OAAO,CAACO,EAAE,CAAC,eAAe,EAAGC,KAAU,IAAI;QACnD;QACAC,OAAO,CAACD,KAAK,CAACA,KAAK,CAACE,OAAO,CAAC;MAC9B,CAAC,CAAC;;EAEN,CAAC,EACD,CAACZ,SAAS,EAAEC,gBAAgB,CAAC,CAC9B;EAED,OAAO;IACLY,MAAM,EAAEb,SAAS,CAACE,OAAO;IACzBE,gBAAgB;IAChBH;GACD;AACH,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}