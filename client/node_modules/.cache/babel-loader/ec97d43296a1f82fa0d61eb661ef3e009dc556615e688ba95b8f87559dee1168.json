{"ast":null,"code":"var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nimport React from 'react';\nimport { ChannelCTATypeEnum } from '@novu/shared';\nimport { useNotifications, useNotificationCenter, useNovuContext, useTranslations } from '../../../hooks';\nimport { NotificationsList } from './NotificationsList';\nimport { Loader } from './Loader';\nimport { colors } from '../../../shared/config/colors';\nimport { NoNewNotifications } from '../../../images/NoNewNotifications';\nexport function NotificationsListTab() {\n  const {\n    apiService\n  } = useNovuContext();\n  const {\n    onNotificationClick,\n    onUrlChange,\n    emptyState\n  } = useNotificationCenter();\n  const {\n    notifications,\n    isLoading,\n    hasNextPage,\n    markNotificationAsRead,\n    fetchNextPage\n  } = useNotifications();\n  const {\n    t\n  } = useTranslations();\n  function fetchNext() {\n    return __awaiter(this, void 0, void 0, function* () {\n      yield fetchNextPage();\n    });\n  }\n  function onNotificationClicked(notification) {\n    var _a, _b, _c, _d, _e;\n    return __awaiter(this, void 0, void 0, function* () {\n      markNotificationAsRead(notification._id);\n      if (onNotificationClick) {\n        onNotificationClick(notification);\n      }\n      const hasCta = ((_a = notification.cta) === null || _a === void 0 ? void 0 : _a.type) === ChannelCTATypeEnum.REDIRECT && ((_c = (_b = notification.cta) === null || _b === void 0 ? void 0 : _b.data) === null || _c === void 0 ? void 0 : _c.url);\n      apiService.postUsageLog('Notification Click', {\n        notificationId: notification._id,\n        hasCta\n      });\n      if (hasCta && ((_e = (_d = notification.cta) === null || _d === void 0 ? void 0 : _d.data) === null || _e === void 0 ? void 0 : _e.url) && onUrlChange) {\n        onUrlChange(notification.cta.data.url);\n      }\n    });\n  }\n  return isLoading ? React.createElement(Loader, null) : React.createElement(React.Fragment, null, !isLoading && (notifications === null || notifications === void 0 ? void 0 : notifications.length) === 0 ? React.createElement(React.Fragment, null, emptyState ? emptyState : React.createElement(\"div\", {\n    style: {\n      textAlign: 'center',\n      flexDirection: 'column',\n      minHeight: 350,\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center'\n    }\n  }, React.createElement(NoNewNotifications, {\n    style: {\n      maxWidth: 200,\n      marginBottom: 15\n    }\n  }), React.createElement(\"span\", {\n    style: {\n      color: colors.B70,\n      fontSize: 15\n    }\n  }, t('noNewNotification')))) : React.createElement(NotificationsList, {\n    onNotificationClicked: onNotificationClicked,\n    notifications: notifications || [],\n    onFetch: fetchNext,\n    hasNextPage: hasNextPage\n  }));\n}","map":{"version":3,"names":["React","ChannelCTATypeEnum","useNotifications","useNotificationCenter","useNovuContext","useTranslations","NotificationsList","Loader","colors","NoNewNotifications","NotificationsListTab","apiService","onNotificationClick","onUrlChange","emptyState","notifications","isLoading","hasNextPage","markNotificationAsRead","fetchNextPage","t","fetchNext","onNotificationClicked","notification","_id","hasCta","_a","cta","type","REDIRECT","_c","_b","data","url","postUsageLog","notificationId","_e","_d","createElement","Fragment","length","style","textAlign","flexDirection","minHeight","display","alignItems","justifyContent","maxWidth","marginBottom","color","B70","fontSize","onFetch"],"sources":["../../../../../src/components/notification-center/components/NotificationsListTab.tsx"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}