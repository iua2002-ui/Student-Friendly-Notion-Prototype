{"ast":null,"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ApiService = void 0;\nconst shared_1 = require(\"@novu/shared\");\nclass ApiService {\n  constructor(backendUrl) {\n    this.backendUrl = backendUrl;\n    this.isAuthenticated = false;\n    this.httpClient = new shared_1.HttpClient(backendUrl);\n  }\n  setAuthorizationToken(token) {\n    this.httpClient.setAuthorizationToken(token);\n    this.isAuthenticated = true;\n  }\n  disposeAuthorizationToken() {\n    this.httpClient.disposeAuthorizationToken();\n    this.isAuthenticated = false;\n  }\n  updateAction(messageId, executedType, status, payload) {\n    return __awaiter(this, void 0, void 0, function* () {\n      return yield this.httpClient.post(`/widgets/messages/${messageId}/actions/${executedType}`, {\n        executedType,\n        status,\n        payload\n      });\n    });\n  }\n  markMessageAsSeen(messageId) {\n    return __awaiter(this, void 0, void 0, function* () {\n      return yield this.httpClient.post(`/widgets/messages/${messageId}/seen`, {});\n    });\n  }\n  getNotificationsList(page, query = {}) {\n    return __awaiter(this, void 0, void 0, function* () {\n      return yield this.httpClient.get(`/widgets/notifications/feed`, Object.assign({\n        page\n      }, query));\n    });\n  }\n  initializeSession(appId, subscriberId, hmacHash = null) {\n    return __awaiter(this, void 0, void 0, function* () {\n      return yield this.httpClient.post(`/widgets/session/initialize`, {\n        applicationIdentifier: appId,\n        subscriberId: subscriberId,\n        hmacHash\n      });\n    });\n  }\n  postUsageLog(name, payload) {\n    return __awaiter(this, void 0, void 0, function* () {\n      return yield this.httpClient.post('/widgets/usage/log', {\n        name: `[Widget] - ${name}`,\n        payload\n      });\n    });\n  }\n  getUnseenCount(query = {}) {\n    return __awaiter(this, void 0, void 0, function* () {\n      return yield this.httpClient.get('/widgets/notifications/unseen', query);\n    });\n  }\n  getOrganization() {\n    return __awaiter(this, void 0, void 0, function* () {\n      return this.httpClient.get('/widgets/organization');\n    });\n  }\n  getUserPreference() {\n    return __awaiter(this, void 0, void 0, function* () {\n      return this.httpClient.get('/widgets/preferences');\n    });\n  }\n  updateSubscriberPreference(templateId, channelType, enabled) {\n    return __awaiter(this, void 0, void 0, function* () {\n      return yield this.httpClient.patch(`/widgets/preferences/${templateId}`, {\n        channel: {\n          type: channelType,\n          enabled\n        }\n      });\n    });\n  }\n}\nexports.ApiService = ApiService;","map":{"version":3,"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","Object","defineProperty","exports","ApiService","shared_1","require","constructor","backendUrl","isAuthenticated","httpClient","HttpClient","setAuthorizationToken","token","disposeAuthorizationToken","updateAction","messageId","executedType","status","payload","post","markMessageAsSeen","getNotificationsList","page","query","get","assign","initializeSession","appId","subscriberId","hmacHash","applicationIdentifier","postUsageLog","name","getUnseenCount","getOrganization","getUserPreference","updateSubscriberPreference","templateId","channelType","enabled","patch","channel","type"],"sources":["/Users/isabelagadagba/Downloads/blog-main 2/NotionReact/client/node_modules/@novu/client/dist/api/api.service.js"],"sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ApiService = void 0;\nconst shared_1 = require(\"@novu/shared\");\nclass ApiService {\n    constructor(backendUrl) {\n        this.backendUrl = backendUrl;\n        this.isAuthenticated = false;\n        this.httpClient = new shared_1.HttpClient(backendUrl);\n    }\n    setAuthorizationToken(token) {\n        this.httpClient.setAuthorizationToken(token);\n        this.isAuthenticated = true;\n    }\n    disposeAuthorizationToken() {\n        this.httpClient.disposeAuthorizationToken();\n        this.isAuthenticated = false;\n    }\n    updateAction(messageId, executedType, status, payload) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.httpClient.post(`/widgets/messages/${messageId}/actions/${executedType}`, {\n                executedType,\n                status,\n                payload,\n            });\n        });\n    }\n    markMessageAsSeen(messageId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.httpClient.post(`/widgets/messages/${messageId}/seen`, {});\n        });\n    }\n    getNotificationsList(page, query = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.httpClient.get(`/widgets/notifications/feed`, Object.assign({ page }, query));\n        });\n    }\n    initializeSession(appId, subscriberId, hmacHash = null) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.httpClient.post(`/widgets/session/initialize`, {\n                applicationIdentifier: appId,\n                subscriberId: subscriberId,\n                hmacHash,\n            });\n        });\n    }\n    postUsageLog(name, payload) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.httpClient.post('/widgets/usage/log', {\n                name: `[Widget] - ${name}`,\n                payload,\n            });\n        });\n    }\n    getUnseenCount(query = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.httpClient.get('/widgets/notifications/unseen', query);\n        });\n    }\n    getOrganization() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.httpClient.get('/widgets/organization');\n        });\n    }\n    getUserPreference() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.httpClient.get('/widgets/preferences');\n        });\n    }\n    updateSubscriberPreference(templateId, channelType, enabled) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.httpClient.patch(`/widgets/preferences/${templateId}`, {\n                channel: { type: channelType, enabled },\n            });\n        });\n    }\n}\nexports.ApiService = ApiService;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}